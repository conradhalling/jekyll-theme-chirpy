---
# Preprocessed by Liquid.
---

/*
  By default, Jekyll will look for Sass partials in the _sass directory relative
  to your siteâ€™s source directory.
*/

{%- if jekyll.environment == 'production' -%}
@use 'main.bundle';
{%- else -%}
@use 'main';
{% endif %}

/*
  To revert to the original Chirpy styles other than font-family, comment out
  all code below this point.
*/

/*
  These variables defined in '_sass/abstracts/_variables.scss' are needed below:
    v.$font-family-heading  (Verdana, sans-serif)
    v.$font-family-base     (Georgia, serif)
*/
@use 'abstracts/variables' as v;

/*
  - The theme variants stored in _sass/theme_variants use custom styles to
    regularize and organize color specifications, to increase contrast between
    text and the background, and to add a theme hue to the page.
  - For more information about the structure of this file, see
    https://github.com/cotes2020/jekyll-theme-chirpy/discussions/1838.
  - The styles defined below override styles from:
      - _sass/base/_base.scss
      - _sass/themes/_light.scss
      - _sass/themes/_dark.scss
  - data-mode is a global custom data attribute with values 'light' or 'dark'
  - There are four combinations to deal with:
    - system: dark   [data-mode]: dark
    - system: dark   [data-mode]: light
    - system: light  [data-mode]: light
    - system: light  [data-mode]: dark

  - A color family is defined for each color theme using the same hue and
    changing the lightness level.
  - dark mode
    - background lightness levels:
      - --bg-color-005      5% lightness:  body
      - --bg-color-010     10% lightness:  sidebar, cards on Home
      - --bg-color-015     15% lightness:  active tab on sidebar, hover over
        inactive tab, hover over card on Home, sidebar-hover-bg, sidebar-btn-bg,
        even table rows
      - --bg-color-020     20% lightness:  odd table rows
      - --bg-color-030     30% lightness:  all borders
    - text lightness levels:
      - --text-color-100  100% lightness:  important text
      - --text-color-080   80% lightness:  muted text
      - --text-color-075   75% lightness:  unselected tab, unselected button,
        subtitle color
      - --text-color-050   50% lightness:  links, code block elements

  - light mode
    - background lightness levels:
      - --bg-color-095     95% lightness:  body
      - --bg-color-090     90% lightness:  sidebar, cards on Home
      - --bg-color-085     85% lightness:  active tab on sidebar, hover over
        inactive tab, hover over card on Home, sidebar-hover-bg, sidebar-btn-bg,
        even table rows
      - --bg-color-080     80% lightness:  odd table rows
      - --bg-color-070     70% lightness:  all borders
    - text lightness levels:
      - --text-color-000    0% lightness:  important text
      - --text-color-020   20% lightness:  muted text
      - --text-color-025   25% lightness:  unselected tab, unselected button,
        subtitle color
      - --text-color-050   50% lightness:  links, code block elements
*/

@use 'theme_variants/light_variant';
@use 'theme_variants/dark_variant';

/*
  Set the base hue and saturation for creating style colors.
  sphaerula.com:
    hue: 150
    saturation: 20
  conradhalling.com:
    hue: 210
    saturation: 40
*/
:root {
  --base-hue: 150; // 0 to 360
  --base-saturation: 20; // 0 to 100

  @media (prefers-color-scheme: light) {
    &:not([data-mode]),
    &[data-mode='light'] {
      @include light_variant.styles;
    }

    &[data-mode='dark'] {
      @include dark_variant.styles;
    }
  }

  @media (prefers-color-scheme: dark) {
    &:not([data-mode]),
    &[data-mode='dark'] {
      @include dark_variant.styles;
    }

    &[data-mode='light'] {
      @include light_variant.styles;
    }
  }
}

/*
  - These changes are for sphaerula.com.
  - Remove the box shadow around the avatar image.
  - Enlarge the avatar image by 1.1 to make it fill the circle.
  - In the sidebar, adjust the font size of the site's title to make the title
    fit on one line.
  - Increase the font size of the site's subtitle to make it a little easier to
    read. Unfortunately, you have to zoom in to see the emoji.
*/
#sidebar #avatar {
  box-shadow: none;
}

#sidebar #avatar img {
  transform: scale(1.1);
}

#sidebar .site-title {
  letter-spacing: normal;
  font-size: 2rem;
}

#sidebar .site-subtitle {
  font-size: 1.2rem;
  font-style: normal !important;
}

/*
  The following changes are shared between sphaerula.com and conradhalling.com.
*/

/*
  - Because the default font families couldn't be changed in this file, it was
    necessary to edit _sass/abstracts/_variables.scss to specify a serif font
    family as the default body font family.
  - The following files had to be edited to substitute the default sans-serif
    font family for the Lato font family:
      - _sass/components/_popups.scss
      - _sass/pages/_archives.scss
      - _sass/pages/_home.scss
      - _sass/base/_typography.scss
  - The following file had to be edited to remove the Oswald font family:
      - _sass/pages/_tags.scss
  - Many style changes were required after changing the default font family
    and these are made below.
*/

/*
  Increase font size for content and adjust line spacing for readability.
*/
.content {
  font-size: 1.2rem;
  line-height: 2rem;
}

/*
  Override default styles to use a sans-serif font for titles and labels.
*/
#sidebar .site-title,
#sidebar .site-subtitle,
#sidebar ul,
#topbar #breadcrumb,
#post-list .card .card-body .post-meta,
div.access > section,
div#tail-wrapper,
search#search,
div.post-meta,
div.post-tail-wrapper div.license-wrapper,
div.post-tail-wrapper div.post-tags,
section#toc-wrapper,
article div div.categories.card,
div#page-category ul,
div#page-tag ul,
div#archives,
div[class^="language-"] .code-header,
#archives .date.day,
#post-list .card .card-body .card-text.content,
div.content div#tags,
div#search-result-wrapper div.content,
.content a.popup + em,
{
  font-family: v.$font-family-heading;
}

/*
  Override default styles to maintain font size.
*/
#post-list .card .card-body .card-text.content,
div.content div#tags,
div#search-result-wrapper div.content,
{
  font-size: 1rem;
}

/*
  In the Archives page, adjust the font size for the year to make make the
  timeline indicators align correctly.
*/
div#archives .year {
  font-size: 1.17rem;
}

/*
  Style search results as cards.
*/
#search-results > article > a > section {
  box-shadow: none;
}

/*
  In tables, use a small sans-serif font.
*/
.table-wrapper > table tr th,
.table-wrapper > table tr td,
{
  font-family: v.$font-family-heading;
  font-size: 0.8rem !important;
  padding: 0.5rem !important;
  line-height: 1.2rem;
  vertical-align: top;
}

/*
  Hide the share icons at bottom of posts.
*/
div .share-wrapper {
  display: none !important;
}

/*
  - Hide tags in posts and other pages.
  - Comment out this code if you use tags.
  - (The file _tabs/tags.md was also deleted.)
*/

div.access section:not(#access-lastmod) {
  display: none;
}

div.post-tail-wrapper div.post-tags {
  display: none;
}

div.post-meta div:nth-child(2) {
  display: none;
}
